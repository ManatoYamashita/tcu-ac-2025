# CI/CD ã‚¬ã‚¤ãƒ‰ï¼ˆGitHub Actionsï¼‰

ã“ã®ã‚¬ã‚¤ãƒ‰ã§ã¯ã€manapuraza blog ã®CI/CDï¼ˆç¶™ç¶šçš„ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³/ç¶™ç¶šçš„ãƒ‡ãƒªãƒãƒªãƒ¼ï¼‰ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚

## ğŸ¯ CI/CDã®æ¦‚è¦

æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€GitHub Actionsã‚’ä½¿ç”¨ã—ã¦ä»¥ä¸‹ã®è‡ªå‹•åŒ–ã‚’å®Ÿç¾ã—ã¦ã„ã¾ã™ï¼š

| ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ | ãƒˆãƒªã‚¬ãƒ¼ | å‡¦ç†å†…å®¹ |
|:---|:---|:---|
| **Feature Branch CI** | feature/\* ãƒ–ãƒ©ãƒ³ãƒã¸ã®Push | Lint â†’ Build â†’ è‡ªå‹•PRä½œæˆ |
| **Main Branch CI** | main ãƒ–ãƒ©ãƒ³ãƒã¸ã®Push/PR | Build â†’ Lighthouse CIï¼ˆPerformance 90%ä»¥ä¸Šå¿…é ˆï¼‰ |

## ğŸ“‹ ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥

è©³ç´°ã¯ [ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](./branch.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

### ãƒ–ãƒ©ãƒ³ãƒã®ç¨®é¡

| ãƒ–ãƒ©ãƒ³ãƒ | ç”¨é€” | å‘½åè¦å‰‡ | CIå‹•ä½œ |
|:---|:---|:---|:---|
| `main` | æœ¬ç•ªç’°å¢ƒ | - | Main Branch CI |
| `feature/*` | æ–°æ©Ÿèƒ½é–‹ç™º | `feature/user-dashboard` | Feature Branch CI + è‡ªå‹•PR |
| `fix/*` | ãƒã‚°ä¿®æ­£ | `fix/login-error` | Feature Branch CI + è‡ªå‹•PR |
| `refactor/*` | ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚° | `refactor/components` | Feature Branch CI + è‡ªå‹•PR |
| `doc/*` | ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | `doc/readme` | Feature Branch CI + è‡ªå‹•PR |

## ğŸ”§ Feature Branch CI

### ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«

`.github/workflows/feature.yml`

### ãƒˆãƒªã‚¬ãƒ¼æ¡ä»¶

```yaml
on:
  push:
    branches-ignore:
      - main
    paths-ignore:
      - 'docs/**'
      - '**.md'
      - '.gitignore'
```

- **å¯¾è±¡**: mainä»¥å¤–ã®å…¨ã¦ã®ãƒ–ãƒ©ãƒ³ãƒ
- **é™¤å¤–**: docs/**, *.md, .gitignore ã®å¤‰æ›´ã®ã¿ã®å ´åˆ

### å®Ÿè¡Œã•ã‚Œã‚‹å‡¦ç†

#### Job 1: lint-and-build

```yaml
steps:
  1. ãƒªãƒã‚¸ãƒˆãƒªã®ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ
  2. Node.js 20.x ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆnpmã‚­ãƒ£ãƒƒã‚·ãƒ¥æœ‰åŠ¹ï¼‰
  3. ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆnpm ciï¼‰
  4. Lintã®å®Ÿè¡Œï¼ˆnpm run lintï¼‰
  5. Buildã®å®Ÿè¡Œï¼ˆnpm run buildï¼‰
```

**ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ**: 10åˆ†

#### Job 2: create-pr

**ä¾å­˜**: `lint-and-build` ã®æˆåŠŸ

```yaml
steps:
  1. ãƒªãƒã‚¸ãƒˆãƒªã®ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ
  2. ãƒ–ãƒ©ãƒ³ãƒæƒ…å ±ã®æŠ½å‡º
     - feature/user-dashboard â†’ FEATURE
     - fix/login-bug â†’ FIX
  3. æ—¢å­˜PRã®ç¢ºèªï¼ˆé‡è¤‡é˜²æ­¢ï¼‰
  4. PRã®è‡ªå‹•ä½œæˆ
     - ã‚¿ã‚¤ãƒˆãƒ«: PREFIX: branch-name
     - ãƒ¬ãƒ“ãƒ¥ã‚¢ãƒ¼: ManatoYamashita
     - ãƒœãƒ‡ã‚£: CIæ¤œè¨¼çµæœã®ã‚µãƒãƒªãƒ¼
```

### PRè‡ªå‹•ä½œæˆã®ä¾‹

**ãƒ–ãƒ©ãƒ³ãƒå**: `feature/user-dashboard`

**PRã‚¿ã‚¤ãƒˆãƒ«**: `FEATURE: user-dashboard`

**PRãƒœãƒ‡ã‚£**:
```markdown
## è‡ªå‹•ç”Ÿæˆã•ã‚ŒãŸãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆ

### ãƒ–ãƒ©ãƒ³ãƒæƒ…å ±
- **ã‚½ãƒ¼ã‚¹:** feature/user-dashboard
- **ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ:** main
- **æœ€æ–°ã‚³ãƒŸãƒƒãƒˆ:** abc1234

### CIæ¤œè¨¼çµæœ
âœ… Lint: æˆåŠŸ
âœ… Build: æˆåŠŸ

### å¤‰æ›´å†…å®¹
ã“ã®PRã¯è‡ªå‹•ç”Ÿæˆã•ã‚Œã¾ã—ãŸã€‚è©³ç´°ã¯ã‚³ãƒŸãƒƒãƒˆå±¥æ­´ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

---
ğŸ¤– Generated by GitHub Actions
```

### æ¨©é™è¨­å®š

```yaml
permissions:
  contents: write
  pull-requests: write
```

## ğŸš€ Main Branch CI

### ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«

`.github/workflows/main.yml`

### ãƒˆãƒªã‚¬ãƒ¼æ¡ä»¶

```yaml
on:
  push:
    branches:
      - main
  pull_request:
    branches:
      - main
```

- **Push**: mainãƒ–ãƒ©ãƒ³ãƒã¸ã®ç›´æ¥Pushæ™‚
- **Pull Request**: mainãƒ–ãƒ©ãƒ³ãƒã¸ã®PRä½œæˆ/æ›´æ–°æ™‚

### å®Ÿè¡Œã•ã‚Œã‚‹å‡¦ç†

#### Job 1: build

```yaml
steps:
  1. ãƒªãƒã‚¸ãƒˆãƒªã®ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ
  2. Node.js 20.x ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆnpmã‚­ãƒ£ãƒƒã‚·ãƒ¥æœ‰åŠ¹ï¼‰
  3. ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆnpm ciï¼‰
  4. Buildã®å®Ÿè¡Œï¼ˆnpm run buildï¼‰
  5. ãƒ“ãƒ«ãƒ‰æˆæœç‰©ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ï¼ˆ.next/ï¼‰
```

**ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ**: 10åˆ†

#### Job 2: lighthouse

**ä¾å­˜**: `build` ã®æˆåŠŸ

```yaml
steps:
  1. ãƒªãƒã‚¸ãƒˆãƒªã®ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ
  2. Node.js 20.x ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
  3. ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆnpm ciï¼‰
  4. ãƒ“ãƒ«ãƒ‰æˆæœç‰©ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
  5. ã‚µãƒ¼ãƒãƒ¼ã‚’ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰èµ·å‹•ï¼ˆnpm startï¼‰
  6. ã‚µãƒ¼ãƒãƒ¼ã®æº–å‚™å¾…æ©Ÿï¼ˆnpx wait-on http://localhost:3000ï¼‰
  7. Lighthouse CI ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆ@lhci/cli@0.14.xï¼‰
  8. Lighthouse CI ã®å®Ÿè¡Œï¼ˆlhci autorunï¼‰
  9. ã‚µãƒ¼ãƒãƒ¼ã®åœæ­¢
```

**ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ**: 15åˆ†

### Lighthouse CI è¨­å®š

è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«: `lighthouserc.js`

#### ãƒ†ã‚¹ãƒˆå¯¾è±¡ãƒšãƒ¼ã‚¸

- `/` ï¼ˆãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ï¼‰
- `/blogs` ï¼ˆè¨˜äº‹ä¸€è¦§ï¼‰

#### æ¸¬å®šè¨­å®š

```javascript
{
  url: ['http://localhost:3000/', 'http://localhost:3000/blogs'],
  numberOfRuns: 3,        // 3å›å®Ÿè¡Œã—ã¦ä¸­å¤®å€¤ã‚’æ¡ç”¨
  settings: {
    preset: 'desktop',    // Desktopç’°å¢ƒã§æ¸¬å®š
  },
}
```

#### ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆå“è³ªåŸºæº–ï¼‰

```javascript
{
  'categories:performance': ['error', { minScore: 0.9 }],  // Performance 90%ä»¥ä¸Šå¿…é ˆ
  'categories:accessibility': 'off',
  'categories:best-practices': 'off',
  'categories:seo': 'off',
}
```

**é‡è¦**: Performanceã‚¹ã‚³ã‚¢ãŒ90%æœªæº€ã®å ´åˆã€ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã¯å¤±æ•—ã—ã¾ã™ã€‚

#### çµæœã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰

```javascript
{
  upload: {
    target: 'temporary-public-storage',  // ä¸€æ™‚çš„ãªå…¬é–‹ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸
  },
}
```

çµæœã¯GitHub Actionsã®ãƒ­ã‚°ã‹ã‚‰ç¢ºèªã§ãã¾ã™ã€‚

### æ¨©é™è¨­å®š

```yaml
permissions:
  contents: read
```

## âš™ï¸ GitHubè¨­å®š

### Actionsæ¨©é™ã®æœ‰åŠ¹åŒ–

PRã‚’è‡ªå‹•ä½œæˆã™ã‚‹ãŸã‚ã€ä»¥ä¸‹ã®è¨­å®šãŒå¿…è¦ã§ã™ã€‚

1. **Settings** â†’ **Actions** â†’ **General**
2. **Workflow permissions** ã‚»ã‚¯ã‚·ãƒ§ãƒ³:
   - â˜‘ **Read and write permissions** ã‚’é¸æŠ
   - â˜‘ **Allow GitHub Actions to create and approve pull requests** ã‚’ãƒã‚§ãƒƒã‚¯
3. **Save**

### Branch Protection Rules

mainãƒ–ãƒ©ãƒ³ãƒã‚’ä¿è­·ã—ã€CI/CDãƒã‚§ãƒƒã‚¯ã‚’å¿…é ˆã«ã—ã¾ã™ã€‚

1. **Settings** â†’ **Branches** â†’ **Add branch protection rule**
2. **Branch name pattern**: `main`
3. ä»¥ä¸‹ã‚’è¨­å®š:
   - â˜‘ **Require a pull request before merging**
     - Required approvals: **1**
   - â˜‘ **Require status checks to pass before merging**
     - â˜‘ **Require branches to be up to date before merging**
     - **Status checks that are required**:
       - `build`
       - `lighthouse`
   - â˜‘ **Do not allow bypassing the above settings**
4. **Create** / **Save changes**

**æ³¨æ„**: Status checksã¯ã€ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãŒæœ€åˆã«å®Ÿè¡Œã•ã‚ŒãŸå¾Œã«é¸æŠå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚

## ğŸ”„ é–‹ç™ºãƒ•ãƒ­ãƒ¼

### 1. Featureãƒ–ãƒ©ãƒ³ãƒã®ä½œæˆ

```bash
# mainãƒ–ãƒ©ãƒ³ãƒã‚’æœ€æ–°ã«ã™ã‚‹
git checkout main
git pull origin main

# Featureãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ
git checkout -b feature/new-feature
```

### 2. ã‚³ãƒ¼ãƒ‰ã®å¤‰æ›´

```bash
# ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†...

# ã‚³ãƒŸãƒƒãƒˆ
git add .
git commit -m "FEATURE: æ–°æ©Ÿèƒ½ã‚’è¿½åŠ "
```

### 3. Pushã—ã¦è‡ªå‹•PRä½œæˆ

```bash
# Pushï¼ˆFeature Branch CIãŒç™ºç«ï¼‰
git push -u origin feature/new-feature
```

**è‡ªå‹•å®Ÿè¡Œã•ã‚Œã‚‹å‡¦ç†:**
1. Lintå®Ÿè¡Œ
2. Buildå®Ÿè¡Œ
3. âœ… æˆåŠŸ â†’ è‡ªå‹•çš„ã«PRãŒä½œæˆã•ã‚Œã‚‹
4. âŒ å¤±æ•— â†’ PRã¯ä½œæˆã•ã‚Œãªã„ï¼ˆã‚¨ãƒ©ãƒ¼ã‚’ä¿®æ­£ã—ã¦Pushï¼‰

### 4. PRã®ãƒ¬ãƒ“ãƒ¥ãƒ¼

- è‡ªå‹•ä½œæˆã•ã‚ŒãŸPRã‚’ãƒ¬ãƒ“ãƒ¥ãƒ¼
- å¿…è¦ã«å¿œã˜ã¦è¿½åŠ ã®å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ
- ãƒ¬ãƒ“ãƒ¥ã‚¢ãƒ¼ã®æ‰¿èªã‚’å¾—ã‚‹

### 5. mainã¸ã®ãƒãƒ¼ã‚¸

```bash
# GitHub UI ã§PRã‚’ãƒãƒ¼ã‚¸
# ã¾ãŸã¯ CLIã§
gh pr merge --squash
```

**ãƒãƒ¼ã‚¸æ™‚ã«å®Ÿè¡Œã•ã‚Œã‚‹å‡¦ç†:**
1. Buildå®Ÿè¡Œ
2. Lighthouse CIå®Ÿè¡Œï¼ˆPerformance 90%ä»¥ä¸Šå¿…é ˆï¼‰
3. âœ… æˆåŠŸ â†’ ãƒãƒ¼ã‚¸å®Œäº†
4. âŒ å¤±æ•— â†’ ãƒãƒ¼ã‚¸ã§ããªã„ï¼ˆå•é¡Œã‚’ä¿®æ­£ï¼‰

## ğŸ“Š ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®ç¢ºèªæ–¹æ³•

### GitHub UI

1. ãƒªãƒã‚¸ãƒˆãƒªãƒšãƒ¼ã‚¸ã® **Actions** ã‚¿ãƒ–ã‚’é–‹ã
2. å®Ÿè¡Œä¸­/å®Œäº†ã—ãŸãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãŒä¸€è¦§è¡¨ç¤ºã•ã‚Œã‚‹
3. ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦è©³ç´°ã‚’ç¢ºèª

### ãƒ­ã‚°ã®ç¢ºèª

1. ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®è©³ç´°ãƒšãƒ¼ã‚¸ã§å„Jobã‚’ã‚¯ãƒªãƒƒã‚¯
2. å„Stepã®ãƒ­ã‚°ã‚’ç¢ºèª
3. ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸå ´åˆã€èµ¤è‰²ã§è¡¨ç¤ºã•ã‚Œã‚‹

### Lighthouseçµæœã®ç¢ºèª

1. `lighthouse` Jobã®ãƒ­ã‚°ã‚’é–‹ã
2. "Run Lighthouse CI" Stepã‚’å±•é–‹
3. Lighthouseãƒ¬ãƒãƒ¼ãƒˆã¸ã®ãƒªãƒ³ã‚¯ãŒè¡¨ç¤ºã•ã‚Œã‚‹

## âš ï¸ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### Q: PRãŒè‡ªå‹•ä½œæˆã•ã‚Œãªã„

**A:** ä»¥ä¸‹ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼š
- Feature Branch CI ãŒæˆåŠŸã—ã¦ã„ã‚‹ã‹ï¼ˆLint/Buildã§ã‚¨ãƒ©ãƒ¼ãŒãªã„ã‹ï¼‰
- GitHub Actions ã®æ¨©é™ãŒæœ‰åŠ¹åŒ–ã•ã‚Œã¦ã„ã‚‹ã‹
- æ—¢ã«åŒã˜ãƒ–ãƒ©ãƒ³ãƒã‹ã‚‰PRãŒä½œæˆã•ã‚Œã¦ã„ãªã„ã‹

### Q: Lighthouse CIãŒå¤±æ•—ã™ã‚‹

**åŸå› åˆ¥ã®å¯¾å‡¦æ³•:**

#### Performance ã‚¹ã‚³ã‚¢ãŒ90%æœªæº€

```bash
# ãƒ­ãƒ¼ã‚«ãƒ«ã§Lighthouseã‚’å®Ÿè¡Œã—ã¦å•é¡Œã‚’ç‰¹å®š
npx lighthouse http://localhost:3000 --view

# ä¸»ãªæ”¹å–„æ–¹æ³•:
# - ç”»åƒã®æœ€é©åŒ–ï¼ˆWebPå½¢å¼ã€é©åˆ‡ãªã‚µã‚¤ã‚ºï¼‰
# - ä¸è¦ãªJavaScriptã®å‰Šé™¤
# - ã‚³ãƒ¼ãƒ‰åˆ†å‰²ï¼ˆDynamic Importï¼‰
# - ãƒ•ã‚©ãƒ³ãƒˆã®æœ€é©åŒ–
```

#### ã‚µãƒ¼ãƒãƒ¼ãŒèµ·å‹•ã—ãªã„

```
Error: ECONNREFUSED localhost:3000
```

**å¯¾å‡¦æ³•:**
- ãƒ“ãƒ«ãƒ‰ãŒæ­£å¸¸ã«å®Œäº†ã—ã¦ã„ã‚‹ã‹ç¢ºèª
- `npm start` ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã‹ç¢ºèª
- wait-on ã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆæ™‚é–“ã‚’å»¶é•·ï¼ˆç¾åœ¨60ç§’ï¼‰

#### ãƒ“ãƒ«ãƒ‰æˆæœç‰©ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å¤±æ•—

```
Error: Unable to download artifact
```

**å¯¾å‡¦æ³•:**
- `build` JobãŒæˆåŠŸã—ã¦ã„ã‚‹ã‹ç¢ºèª
- artifact ã®ä¿æŒæœŸé–“ã‚’ç¢ºèªï¼ˆç¾åœ¨1æ—¥ï¼‰

### Q: Branch Protection Rules ãŒè¨­å®šã§ããªã„

**A:** Status checks ãŒè¡¨ç¤ºã•ã‚Œãªã„å ´åˆï¼š
1. ã¾ãš1å›ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’å®Ÿè¡Œã™ã‚‹
2. å®Ÿè¡Œå®Œäº†å¾Œã€Status checks ã« `build` ã¨ `lighthouse` ãŒè¡¨ç¤ºã•ã‚Œã‚‹
3. ãã‚Œã‚‰ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ä¿å­˜

### Q: åŒã˜ãƒ–ãƒ©ãƒ³ãƒã‹ã‚‰è¤‡æ•°ã®PRãŒä½œæˆã•ã‚Œã‚‹

**A:** ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã«ã¯é‡è¤‡é˜²æ­¢æ©Ÿèƒ½ãŒå®Ÿè£…ã•ã‚Œã¦ã„ã¾ã™ï¼š
```bash
# æ—¢å­˜PRã‚’ãƒã‚§ãƒƒã‚¯
gh pr list --head $BRANCH_NAME --base main

# å­˜åœ¨ã™ã‚‹å ´åˆã¯ã‚¹ã‚­ãƒƒãƒ—
```

ã‚‚ã—è¤‡æ•°ä½œæˆã•ã‚Œã‚‹å ´åˆã€ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ­ã‚°ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

## ğŸ”§ ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ–¹æ³•

### Lighthouse ã®æ¸¬å®šãƒšãƒ¼ã‚¸ã‚’è¿½åŠ 

`lighthouserc.js` ã® `url` é…åˆ—ã«è¿½åŠ ï¼š

```javascript
url: [
  'http://localhost:3000/',
  'http://localhost:3000/blogs',
  'http://localhost:3000/about',  // è¿½åŠ 
],
```

### Performanceã‚¹ã‚³ã‚¢ã®é–¾å€¤ã‚’å¤‰æ›´

`lighthouserc.js` ã® `minScore` ã‚’å¤‰æ›´ï¼š

```javascript
assertions: {
  'categories:performance': ['error', { minScore: 0.95 }],  // 95%ã«å¤‰æ›´
},
```

### ä»–ã®Lighthouseã‚«ãƒ†ã‚´ãƒªã‚’æœ‰åŠ¹åŒ–

```javascript
assertions: {
  'categories:performance': ['error', { minScore: 0.9 }],
  'categories:accessibility': ['warn', { minScore: 0.9 }],  // Accessibilityè¿½åŠ 
  'categories:seo': ['warn', { minScore: 0.9 }],            // SEOè¿½åŠ 
},
```

### PRãƒ¬ãƒ“ãƒ¥ã‚¢ãƒ¼ã®å¤‰æ›´

`.github/workflows/feature.yml` ã® `--reviewer` ã‚’å¤‰æ›´ï¼š

```yaml
gh pr create \
  --reviewer YourGitHubUsername \  # ã“ã“ã‚’å¤‰æ›´
```

## ğŸ“š å‚è€ƒãƒªãƒ³ã‚¯

- [GitHub Actions å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://docs.github.com/actions)
- [Lighthouse CI å…¬å¼](https://github.com/GoogleChrome/lighthouse-ci)
- [GitHub CLI å…¬å¼](https://cli.github.com/)
- [ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥](./branch.md)

---

ã•ã‚‰ã«è©³ã—ã„æƒ…å ±ãŒå¿…è¦ãªå ´åˆã¯ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã® `lighthouserc.js` ãŠã‚ˆã³ `.github/workflows/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚
